(function(t,d,S,A,b,o,r,g,n,h,N,f,p,_,C,L,w,I){"use strict";class R extends b{static isDismissibleViaBackdropClick=!1;static isDismissibleViaCloseButton=!0;oninit(s){super.oninit(s)}className(){return"Modal--small"}title(){return t.translator.trans("wusong8899-user-submission.forum.submit-success")}content(){return m("div",{className:"Modal-body"},m("div",{className:"Form"},m("div",{className:"Form-group",style:"text-align: center;"},r.component({className:"Button Button--primary",loading:this.loading,onclick:()=>{this.hide()}},t.translator.trans("wusong8899-user-submission.lib.ok")))))}}class v extends b{static isDismissibleViaBackdropClick=!1;static isDismissibleViaCloseButton=!0;oninit(s){super.oninit(s),this.loading=!1,this.amount=o(""),this.platform=o(""),this.platformAccount=o(""),this.userAccount=o("")}className(){return"Modal--small"}title(){return t.translator.trans("wusong8899-user-submission.forum.item-header")}content(){return m("div",{className:"Modal-body"},m("div",{className:"Form"},m("div",{className:"Form-group",style:"text-align: center;"},m("div",null,m("div",{className:"userSubmissionDataLabel"},t.translator.trans("wusong8899-user-submission.lib.list-amount")),m("input",{type:"number",min:"0",disabled:this.loading,required:!0,className:"FormControl",bidi:this.amount})),m("div",{className:"userSubmissionDataLabel"},t.translator.trans("wusong8899-user-submission.lib.list-platform")),m("input",{maxlength:"500",disabled:this.loading,required:!0,className:"FormControl",bidi:this.platform}),m("div",{className:"userSubmissionDataLabel"},t.translator.trans("wusong8899-user-submission.lib.list-platformAccount")),m("input",{maxlength:"500",disabled:this.loading,required:!0,className:"FormControl",bidi:this.platformAccount}),m("div",{className:"userSubmissionDataLabel"},t.translator.trans("wusong8899-user-submission.lib.list-userAccountFull")),m("input",{maxlength:"500",disabled:this.loading,required:!0,className:"FormControl",bidi:this.userAccount})),m("div",{className:"Form-group",style:"text-align: center;"},r.component({style:"min-width:66px;",className:"Button Button--primary",type:"submit",loading:this.loading},t.translator.trans("wusong8899-user-submission.lib.ok"))," ",r.component({style:"min-width:66px;",className:"Button",loading:this.loading,onclick:()=>{this.hide()}},t.translator.trans("wusong8899-user-submission.lib.cancel")))))}onsubmit(s){s.preventDefault(),this.loading=!0,t.store.createRecord("userSubmissionList").save({amount:this.amount(),platform:this.platform(),platformAccount:this.platformAccount(),userAccount:this.userAccount()}).then(i=>{t.store.pushPayload(i),this.loading=!1,t.modal.show(R)}).catch(()=>{this.loading=!1})}}class y extends n{}Object.assign(y.prototype,{id:n.attribute("id"),amount:n.attribute("amount"),platform:n.attribute("platform"),platform_account:n.attribute("platform_account"),user_account:n.attribute("user_account"),submission_user_id:n.attribute("submission_user_id"),review_user_id:n.attribute("review_user_id"),review_result:n.attribute("review_result"),assigned_at:n.attribute("assigned_at"),reviewed_at:n.attribute("reviewed_at"),fromUser:n.hasOne("fromUser"),reviewUser:n.hasOne("reviewUser")});class k extends f{view(){const{itemData:s}=this.attrs,i=s.amount(),a=s.id(),P=s.platform(),T=s.platform_account(),V=s.user_account(),u=s.review_result(),x=app.translator.trans(u===1?"wusong8899-user-submission.lib.list-submission-accept":"wusong8899-user-submission.lib.list-submission-decline"),j=s.assigned_at(),l=s.reviewed_at();let c="userSubmissionApplicationContainer ";return l===null?c+="userSubmissionApplicationReviewing":u===1?c+="userSubmissionApplicationAccepted":c+="userSubmissionApplicationDeclined",m("div",{className:c},m("div",null,m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-id"),": "),a," | ",m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-assignedAt"),": "),j),m("div",null,m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-amount"),": "),i," | ",m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-platform"),": "),P," | ",m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-platformAccount"),": "),T," | ",m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-userAccount"),": "),V),l&&m("div",null,m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-reviewResult"),": "),u===0&&m("span",{style:"color:red"},x," | "),u===1&&m("span",{style:"color:green"},x," | "),m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-reviewAt"),": "),l),!l&&m("div",null,m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-reviewResult"),": "),m("span",{style:"color:grey"},app.translator.trans("wusong8899-user-submission.lib.list-submission-reviewing"))))}}class U extends f{oninit(s){super.oninit(s),this.loading=!0,this.moreResults=!1,this.userSubmissionList=[],this.loadResults()}view(){let s;return this.loading&&(s=_.component({size:"large"})),m("div",null,m("ul",{style:"padding:0px;list-style-type: none;"},this.userSubmissionList.map(i=>m("li",{itemID:i.id(),style:"margin-top:5px;background: var(--body-bg);"},k.component({itemData:i})))),!this.loading&&this.userSubmissionList.length===0&&m("div",null,m("div",{style:"font-size:1.4em;color: var(--muted-more-color);text-align: center;line-height: 100px;"},p.translator.trans("wusong8899-decoration-store.lib.list-empty"))),!s&&this.hasMoreResults()&&m("div",{style:"text-align:center;padding:20px"},m(r,{className:"Button Button--primary",disabled:this.loading,loading:this.loading,onclick:()=>this.loadMore()},p.translator.trans("wusong8899-user-submission.lib.list-load-more"))),s&&m("div",{className:"UserSubmission-loadMore"},s))}hasMoreResults(){return this.moreResults}loadMore(){this.loading=!0,this.loadResults(this.userSubmissionList.length)}parseResults(s){return this.moreResults=!!s.payload.links&&!!s.payload.links.next,[].push.apply(this.userSubmissionList,s),this.loading=!1,m.redraw(),s}loadResults(s=0){return p.store.find("userSubmissionApplicationList",{page:{offset:s}}).catch(()=>{}).then(this.parseResults.bind(this))}}class D extends h{oninit(s){super.oninit(s),this.loadUser(m.route.param("username"))}content(){if(app.session.user){const s=app.session.user.id(),i=this.user.id();if(s===i)return m("div",null,U.component({params:{user:this.user}}))}}}function F(){app.routes["user.userSubmissionApplication"]={path:"/u/:username/userSubmissionApplication",component:D},d.extend(h.prototype,"navItems",function(e){if(app.session.user){const s=app.session.user.id(),i=this.user.id();s==i&&e.add("userSubmissionApplication",N.component({href:app.route("user.userSubmissionApplication",{username:this.user.username()}),icon:"fas fa-file-signature"},[app.translator.trans("wusong8899-user-submission.forum.application-list-title")]),10)}})}class B extends C{icon(){return null}href(){return t.route("user.userSubmissionApplication",{username:t.session.user.username()})}content(){return this.attrs.notification.subject(),t.translator.trans("wusong8899-user-submission.forum.notification-submission-result-title")}excerpt(){const s=this.attrs.notification.subject(),i=s.review_result(),a=s.id();if(i===1)return t.translator.trans("wusong8899-user-submission.forum.notification-submission-result-success",{id:a});if(i===0)return t.translator.trans("wusong8899-user-submission.forum.notification-submission-result-failed",{id:a})}}class z extends L{oninit(s){super.oninit(s)}view(){return m("div",{className:"MoneyLeaderboardPage"},w.prototype.hero(),m("div",{className:"container"},m("div",{className:"sideNavContainer"},m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,I(w.prototype.sidebarItems().toArray()))),m("div",{style:"display: flex;align-items: center;padding-top: 10px;font-weight: bold;font-size: 14px;"},m("img",{style:"width:24px;",src:"https://mutluresim.com/images/2023/03/26/ViOux.png"})," ",app.translator.trans("wusong8899-user-submission.forum.item-header")),m("div",{style:"padding-top: 10px;position:relative"},m("div",{style:"position: absolute;height: 37px;width: 100%;z-index: 1;",onclick:()=>this.openModal()}),m("div",{style:"width:100%",class:"Search-input"},m("input",{disabled:!0,style:"width: 100%;font-size:12px;",class:"FormControl",type:"search",placeholder:app.translator.trans("wusong8899-user-submission.forum.item-input-placeholder")}))))))}openModal(){app.session.user?app.modal.show(v):app.modal.show(g)}}t.initializers.add("wusong8899-user-submission",()=>{t.routes.userSubmission={path:"/userSubmission",component:z},t.store.models.userSubmissionList=y,t.notificationComponents.userSubmissionList=B,d.extend(A.prototype,"view",function(){const e=t.current.get("routeName");if(e&&e==="tags"){let s=setInterval(function(){if($(".swiperTagContainer").length>0&&(clearInterval(s),!$(".swiperTagContainer").hasClass("UserSubmissionApplication"))){let i='<div style="display: flex;align-items: center;font-weight: bold;font-size: 14px;">  <img style="width:22px;" src="https://i.mji.rip/2025/08/15/102ee6e187aa177ddfe02364dc82208d.png" />&nbsp;&nbsp;'+t.translator.trans("wusong8899-user-submission.forum.item-header")+'</div><div style="padding-top: 10px;position:relative">  <div class="UserSubmissionApplicationInput" style="position: absolute;height: 37px;width: 100%;z-index: 1;"></div>  <div style="width:100%" class="Search-input">    <input disabled style="width: 100%;font-size:12px;" class="FormControl" type="search" placeholder="'+t.translator.trans("wusong8899-user-submission.forum.item-input-placeholder")+'" />  </div></div>';$(i).insertAfter(".swiperTagContainer"),$(".swiperTagContainer").addClass("UserSubmissionApplication"),$(".UserSubmissionApplicationInput").on("click",function(){t.session.user?t.modal.show(v):t.modal.show(g)})}},10)}}),d.extend(S.prototype,"notificationTypes",function(e){e.add("userSubmissionList",{name:"userSubmissionList",icon:"fas fa-file-signature",label:t.translator.trans("wusong8899-user-submission.forum.notification-submission-result")})}),F()})})(flarum.core.compat["forum/app"],flarum.core.compat.extend,flarum.core.compat["components/NotificationGrid"],flarum.core.compat["forum/components/HeaderPrimary"],flarum.core.compat["components/Modal"],flarum.core.compat["utils/Stream"],flarum.core.compat["components/Button"],flarum.core.compat["components/LogInModal"],flarum.core.compat.Model,flarum.core.compat["components/UserPage"],flarum.core.compat["components/LinkButton"],flarum.core.compat.Component,flarum.core.compat.app,flarum.core.compat["components/LoadingIndicator"],flarum.core.compat["components/Notification"],flarum.core.compat["components/Page"],flarum.core.compat["components/IndexPage"],flarum.core.compat["common/helpers/listItems"]);
//# sourceMappingURL=forum.js.map

module.exports={};