(()=>{var t={n:s=>{var i=s&&s.__esModule?()=>s.default:()=>s;return t.d(i,{a:i}),i},d:(s,i)=>{for(var n in i)t.o(i,n)&&!t.o(s,n)&&Object.defineProperty(s,n,{enumerable:!0,get:i[n]})},o:(t,s)=>Object.prototype.hasOwnProperty.call(t,s),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},s={};(()=>{"use strict";t.r(s);const i=flarum.core.compat["forum/app"];var n=t.n(i);const e=flarum.core.compat.extend,o=flarum.core.compat["components/NotificationGrid"];var r=t.n(o);const a=flarum.core.compat["forum/components/HeaderPrimary"];var u=t.n(a);function l(t,s){return l=Object.setPrototypeOf||function(t,s){return t.__proto__=s,t},l(t,s)}function c(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,l(t,s)}const p=flarum.core.compat["components/Modal"];var d=t.n(p);const b=flarum.core.compat["utils/Stream"];var f=t.n(b);const v=flarum.core.compat["components/Button"];var h=t.n(v);flarum.core.compat["common/components/Alert"];var y=function(t){function s(){return t.apply(this,arguments)||this}c(s,t);var i=s.prototype;return i.oninit=function(s){t.prototype.oninit.call(this,s)},i.className=function(){return"Modal--small"},i.title=function(){return n().translator.trans("wusong8899-user-submission.forum.submit-success")},i.content=function(){var t=this;return m("div",{className:"Modal-body"},m("div",{className:"Form"},m("div",{className:"Form-group",style:"text-align: center;"},h().component({className:"Button Button--primary",loading:this.loading,onclick:function(){t.hide()}},n().translator.trans("wusong8899-user-submission.lib.ok")))))},s}(d());y.isDismissibleViaBackdropClick=!1,y.isDismissibleViaCloseButton=!0;var g=function(t){function s(){return t.apply(this,arguments)||this}c(s,t);var i=s.prototype;return i.oninit=function(s){t.prototype.oninit.call(this,s),this.loading=!1,this.amount=f()(""),this.platform=f()(""),this.platformAccount=f()(""),this.userAccount=f()("")},i.className=function(){return"Modal--small"},i.title=function(){return n().translator.trans("wusong8899-user-submission.forum.item-header")},i.content=function(){var t=this;return m("div",{className:"Modal-body"},m("div",{className:"Form"},m("div",{className:"Form-group",style:"text-align: center;"},m("div",null,m("div",{className:"userSubmissionDataLabel"},n().translator.trans("wusong8899-user-submission.lib.list-amount")),m("input",{type:"number",min:"0",disabled:this.loading,required:!0,className:"FormControl",bidi:this.amount})),m("div",{className:"userSubmissionDataLabel"},n().translator.trans("wusong8899-user-submission.lib.list-platform")),m("input",{maxlength:"500",disabled:this.loading,required:!0,className:"FormControl",bidi:this.platform}),m("div",{className:"userSubmissionDataLabel"},n().translator.trans("wusong8899-user-submission.lib.list-platformAccount")),m("input",{maxlength:"500",disabled:this.loading,required:!0,className:"FormControl",bidi:this.platformAccount}),m("div",{className:"userSubmissionDataLabel"},n().translator.trans("wusong8899-user-submission.lib.list-userAccountFull")),m("input",{maxlength:"500",disabled:this.loading,required:!0,className:"FormControl",bidi:this.userAccount})),m("div",{className:"Form-group",style:"text-align: center;"},h().component({style:"min-width:66px;",className:"Button Button--primary",type:"submit",loading:this.loading},n().translator.trans("wusong8899-user-submission.lib.ok"))," ",h().component({style:"min-width:66px;",className:"Button",loading:this.loading,onclick:function(){t.hide()}},n().translator.trans("wusong8899-user-submission.lib.cancel")))))},i.onsubmit=function(t){var s=this;t.preventDefault(),this.loading=!0,n().store.createRecord("userSubmissionList").save({amount:this.amount(),platform:this.platform(),platformAccount:this.platformAccount(),userAccount:this.userAccount()}).then((function(t){n().store.pushPayload(t),s.loading=!1,n().modal.show(y)})).catch((function(t){s.loading=!1}))},s}(d());g.isDismissibleViaBackdropClick=!1,g.isDismissibleViaCloseButton=!0;const w=flarum.core.compat["components/LogInModal"];var z=t.n(w);const x=flarum.core.compat.Model;var S=t.n(x),A=function(t){function s(){return t.apply(this,arguments)||this}return c(s,t),s}(S());Object.assign(A.prototype,{id:S().attribute("id"),amount:S().attribute("amount"),platform:S().attribute("platform"),platform_account:S().attribute("platform_account"),user_account:S().attribute("user_account"),submission_user_id:S().attribute("submission_user_id"),review_user_id:S().attribute("review_user_id"),review_result:S().attribute("review_result"),assigned_at:S().attribute("assigned_at"),reviewed_at:S().attribute("reviewed_at"),fromUser:S().hasOne("fromUser"),reviewUser:S().hasOne("reviewUser")});const N=flarum.core.compat["components/UserPage"];var _=t.n(N);const C=flarum.core.compat["components/LinkButton"];var L=t.n(C);const M=flarum.core.compat.Component;var k=t.n(M);const R=flarum.core.compat.app;var B=t.n(R);const D=flarum.core.compat["components/LoadingIndicator"];var U=t.n(D);flarum.core.compat["helpers/username"];var F=function(t){function s(){return t.apply(this,arguments)||this}return c(s,t),s.prototype.view=function(){var t=this.attrs.itemData,s=(app.forum.attribute("antoinefr-money.moneyname"),t.amount()),i=t.id(),n=t.platform(),e=t.platform_account(),o=t.user_account(),r=(t.fromUser(),t.reviewUser(),t.review_result()),a=app.translator.trans(1===r?"wusong8899-user-submission.lib.list-submission-accept":"wusong8899-user-submission.lib.list-submission-decline"),u=t.assigned_at(),l=t.reviewed_at(),c="userSubmissionApplicationContainer ";return m("div",{className:c+=null===l?"userSubmissionApplicationReviewing":1===r?"userSubmissionApplicationAccepted":"userSubmissionApplicationDeclined"},m("div",null,m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-id"),": "),i," | ",m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-assignedAt"),": "),u),m("div",null,m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-amount"),": "),s," | ",m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-platform"),": "),n," | ",m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-platformAccount"),": "),e," | ",m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-userAccount"),": "),o),l&&m("div",null,m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-reviewResult"),": "),0===r&&m("span",{style:"color:red"},a," | "),1===r&&m("span",{style:"color:green"},a," | "),m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-reviewAt"),": "),l),!l&&m("div",null,m("b",null,app.translator.trans("wusong8899-user-submission.lib.list-reviewResult"),": "),m("span",{style:"color:grey"},app.translator.trans("wusong8899-user-submission.lib.list-submission-reviewing"))))},s}(k()),I=function(t){function s(){return t.apply(this,arguments)||this}c(s,t);var i=s.prototype;return i.oninit=function(s){t.prototype.oninit.call(this,s),this.loading=!0,this.moreResults=!1,this.userSubmissionList=[],this.loadResults()},i.view=function(){var t,s=this;return this.loading&&(t=U().component({size:"large"})),m("div",null,m("ul",{style:"padding:0px;list-style-type: none;"},this.userSubmissionList.map((function(t){return m("li",{itemID:t.id(),style:"margin-top:5px;background: var(--body-bg);"},F.component({itemData:t}))}))),!this.loading&&0===this.userSubmissionList.length&&m("div",null,m("div",{style:"font-size:1.4em;color: var(--muted-more-color);text-align: center;line-height: 100px;"},B().translator.trans("wusong8899-decoration-store.lib.list-empty"))),!t&&this.hasMoreResults()&&m("div",{style:"text-align:center;padding:20px"},m(h(),{className:"Button Button--primary",disabled:this.loading,loading:this.loading,onclick:function(){return s.loadMore()}},B().translator.trans("wusong8899-user-submission.lib.list-load-more"))),t&&m("div",{className:"UserSubmission-loadMore"},t))},i.hasMoreResults=function(){return this.moreResults},i.loadMore=function(){this.loading=!0,this.loadResults(this.userSubmissionList.length)},i.parseResults=function(t){return this.moreResults=!!t.payload.links&&!!t.payload.links.next,[].push.apply(this.userSubmissionList,t),this.loading=!1,m.redraw(),t},i.loadResults=function(t){return void 0===t&&(t=0),B().store.find("userSubmissionApplicationList",{page:{offset:t}}).catch((function(){})).then(this.parseResults.bind(this))},s}(k()),O=function(t){function s(){return t.apply(this,arguments)||this}c(s,t);var i=s.prototype;return i.oninit=function(s){t.prototype.oninit.call(this,s),this.loadUser(m.route.param("username"))},i.content=function(){if(app.session.user&&app.session.user.id()===this.user.id())return m("div",null,I.component({params:{user:this.user}}))},s}(_());const P=flarum.core.compat["components/Notification"];var j=function(t){function s(){return t.apply(this,arguments)||this}c(s,t);var i=s.prototype;return i.icon=function(){return null},i.href=function(){return n().route("user.userSubmissionApplication",{username:n().session.user.username()})},i.content=function(){return this.attrs.notification.subject(),n().translator.trans("wusong8899-user-submission.forum.notification-submission-result-title")},i.excerpt=function(){var t=this.attrs.notification.subject(),s=t.review_result(),i=t.id();return 1===s?n().translator.trans("wusong8899-user-submission.forum.notification-submission-result-success",{id:i}):0===s?n().translator.trans("wusong8899-user-submission.forum.notification-submission-result-failed",{id:i}):void 0},s}(t.n(P)());const T=flarum.core.compat["components/Page"];var V=t.n(T);const q=flarum.core.compat["components/IndexPage"];var G=t.n(q);const H=flarum.core.compat["common/helpers/listItems"];var E=t.n(H),J=function(t){function s(){return t.apply(this,arguments)||this}c(s,t);var i=s.prototype;return i.oninit=function(s){t.prototype.oninit.call(this,s)},i.view=function(){var t=this;return m("div",{className:"MoneyLeaderboardPage"},G().prototype.hero(),m("div",{className:"container"},m("div",{className:"sideNavContainer"},m("nav",{className:"IndexPage-nav sideNav"},m("ul",null,E()(G().prototype.sidebarItems().toArray()))),m("div",{style:"display: flex;align-items: center;padding-top: 10px;font-weight: bold;font-size: 14px;"},m("img",{style:"width:24px;",src:"https://mutluresim.com/images/2023/03/26/ViOux.png"})," ",app.translator.trans("wusong8899-user-submission.forum.item-header")),m("div",{style:"padding-top: 10px;position:relative"},m("div",{style:"position: absolute;height: 37px;width: 100%;z-index: 1;",onclick:function(){return t.openModal()}}),m("div",{style:"width:100%",class:"Search-input"},m("input",{disabled:!0,style:"width: 100%;font-size:12px;",class:"FormControl",type:"search",placeholder:app.translator.trans("wusong8899-user-submission.forum.item-input-placeholder")}))))))},i.openModal=function(){app.session.user?app.modal.show(g):app.modal.show(z())},s}(V());n().initializers.add("wusong8899-user-submission",(function(){n().routes.userSubmission={path:"/userSubmission",component:J},n().store.models.userSubmissionList=A,n().notificationComponents.userSubmissionList=j,(0,e.extend)(u().prototype,"view",(function(t){var s=n().current.get("routeName");if(s)if("tags"!==s);else var i=setInterval((function(){if($(".swiperTagContainer").length>0&&(clearInterval(i),!$(".swiperTagContainer").hasClass("UserSubmissionApplication"))){var t='<div style="display: flex;align-items: center;font-weight: bold;font-size: 14px;">  <img style="width:22px;" src="https://mutluresim.com/images/2023/04/04/jyzez.png" />&nbsp;&nbsp;'+n().translator.trans("wusong8899-user-submission.forum.item-header")+'</div><div style="padding-top: 10px;position:relative">  <div class="UserSubmissionApplicationInput" style="position: absolute;height: 37px;width: 100%;z-index: 1;"></div>  <div style="width:100%" class="Search-input">    <input disabled style="width: 100%;font-size:12px;" class="FormControl" type="search" placeholder="'+n().translator.trans("wusong8899-user-submission.forum.item-input-placeholder")+'" />  </div></div>';$(t).insertAfter(".swiperTagContainer"),$(".swiperTagContainer").addClass("UserSubmissionApplication"),$(".UserSubmissionApplicationInput").on("click",(function(){n().session.user?n().modal.show(g):n().modal.show(z())}))}}),10)})),(0,e.extend)(r().prototype,"notificationTypes",(function(t){t.add("userSubmissionList",{name:"userSubmissionList",icon:"fas fa-file-signature",label:n().translator.trans("wusong8899-user-submission.forum.notification-submission-result")})})),app.routes["user.userSubmissionApplication"]={path:"/u/:username/userSubmissionApplication",component:O},(0,e.extend)(_().prototype,"navItems",(function(t,s){app.session.user&&app.session.user.id()==this.user.id()&&t.add("userSubmissionApplication",L().component({href:app.route("user.userSubmissionApplication",{username:this.user.username()}),icon:"fas fa-file-signature"},[app.translator.trans("wusong8899-user-submission.forum.application-list-title")]),10)}))}))})(),module.exports=s})();
//# sourceMappingURL=forum.js.map